<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;Monkeys World&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>/* Basic styling */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #87CEEB; /* Light blue background */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>canvas {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0 auto;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #87CEEB; /* Fallback background for the game area */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;!-- Phaser 3 Library --&gt;</p>
<p class="p1">&lt;script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"&gt;&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// SCENE: TitleScene</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">class TitleScene extends Phaser.Scene {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>super({ key: 'TitleScene' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>preload() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Load images for both characters</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.load.image('blaire', 'assets/daughter.png');<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.load.image('drew', 'assets/son.png');<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Load background music</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.load.audio('bgMusic', 'assets/bgMusic.mp3');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>create() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Play background music (loop)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.bgMusic = this.sound.add('bgMusic', { loop: true, volume: 0.5 });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.bgMusic.play();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Title text</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(200, 100, "Monkeys World", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '48px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontStyle: 'bold'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Character selection instructions</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(120, 250, "Choose Your Character:", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(140, 320, "Press 1 for Blaire", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '24px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(140, 360, "Press 2 for Drew", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '24px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(20, 20, "TitleScene loaded!", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '16px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#fff'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Keyboard input for character selection</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.keyboard.on('keydown-ONE', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.startGame('blaire');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.keyboard.on('keydown-TWO', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.startGame('drew');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// If someone taps/clicks the screen, default to Blaire</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.on('pointerdown', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.startGame('blaire');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>startGame(characterKey) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Pass the chosen character to Level1</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scene.start('Level1', { character: characterKey, level: 1, score: 0 });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// SCENE: Level1</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">class Level1 extends Phaser.Scene {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>super({ key: 'Level1' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init(data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.characterKey = data.character || 'blaire';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.level = data.level || 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score = data.score || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>create() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Game dimensions</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameWidth = this.sys.game.config.width;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameHeight = this.sys.game.config.height;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Create player sprite based on chosen character</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player = this.physics.add.sprite(100, 450, this.characterKey);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setCollideWorldBounds(true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setScale(0.5);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Ground</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.ground = this.add.rectangle(</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth / 2,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameHeight - 20,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>40,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>0x654321</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(this.ground, true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.player, this.ground);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Obstacles group</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.obstacles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.obstacles, this.hitObstacle, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collectibles group (for ğŸ¤Ÿ emoji)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.collectibles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.collectibles, this.collectItem, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Score text</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText = this.add.text(16, 16, 'Score: ' + this.score, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Timer</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration = 120; // 2 minutes</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText = this.add.text(650, 16, 'Time: ' + this.levelDuration, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.updateTimer,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Input for jump</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.on('pointerdown', () =&gt; this.jump());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey.on('down', () =&gt; this.jump());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Spawn obstacles every 1.5 seconds</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1500,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addObstacle,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Spawn collectibles (ğŸ¤Ÿ) every 3 seconds</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 3000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addCollectible,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Debug text</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(20, 60, "Level1 loaded!", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '16px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#fff'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>update() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Auto-run</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setVelocityX(200);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>jump() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.player.body.touching.down) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.player.setVelocityY(-400);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addObstacle() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Randomly choose between hockey net (ğŸ¥…) or lacrosse stick (ğŸ¥)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacleEmoji = Math.random() &lt; 0.5 ? "ğŸ¥…" : "ğŸ¥";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacle = this.add.text(this.gameWidth, 520, obstacleEmoji, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '64px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setVelocityX(-250);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles.add(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addCollectible() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Spawn the "I love you" sign language emoji ğŸ¤Ÿ</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const collectible = this.add.text(this.gameWidth, 480, 'ğŸ¤Ÿ', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '48px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setVelocityX(-200);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles.add(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>hitObstacle(player, obstacle) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// If the player is above the obstacle =&gt; successful jump</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (player.y &lt; obstacle.y) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.score += 10;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>obstacle.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Game over</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('GameOverScene', { score: this.score });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>collectItem(player, collectible) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collect ğŸ¤Ÿ =&gt; +20 points</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score += 20;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateTimer() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration--;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText.setText('Time: ' + this.levelDuration);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.levelDuration &lt;= 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Go to Level2</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('Level2', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>character: this.characterKey,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>level: 2,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>score: this.score</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// SCENE: Level2</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">class Level2 extends Phaser.Scene {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>super({ key: 'Level2' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init(data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.characterKey = data.character || 'blaire';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.level = data.level || 2;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score = data.score || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>create() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameWidth = this.sys.game.config.width;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameHeight = this.sys.game.config.height;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Player</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player = this.physics.add.sprite(100, 450, this.characterKey);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setCollideWorldBounds(true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setScale(0.5);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Ground</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.ground = this.add.rectangle(</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth / 2,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameHeight - 20,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>40,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>0x654321</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(this.ground, true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.player, this.ground);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Obstacles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.obstacles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.obstacles, this.hitObstacle, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collectibles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.collectibles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.collectibles, this.collectItem, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Score text</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText = this.add.text(16, 16, 'Score: ' + this.score, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Timer</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration = 120;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText = this.add.text(650, 16, 'Time: ' + this.levelDuration, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.updateTimer,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Input</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.on('pointerdown', () =&gt; this.jump());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey.on('down', () =&gt; this.jump());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// More frequent obstacles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1200,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addObstacle,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collectibles (ğŸ¤Ÿ)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 2500,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addCollectible,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Debug</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(20, 60, "Level2 loaded!", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '16px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#fff'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>update() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Faster run</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setVelocityX(250);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>jump() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.player.body.touching.down) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.player.setVelocityY(-420);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addObstacle() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacleEmoji = Math.random() &lt; 0.5 ? "ğŸ¥…" : "ğŸ¥";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacle = this.add.text(this.gameWidth, 520, obstacleEmoji, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '64px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setVelocityX(-300);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles.add(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addCollectible() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const collectible = this.add.text(this.gameWidth, 480, 'ğŸ¤Ÿ', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '48px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setVelocityX(-220);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles.add(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>hitObstacle(player, obstacle) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (player.y &lt; obstacle.y) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.score += 10;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>obstacle.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('GameOverScene', { score: this.score });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>collectItem(player, collectible) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score += 20;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateTimer() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration--;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText.setText('Time: ' + this.levelDuration);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.levelDuration &lt;= 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('Level3', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>character: this.characterKey,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>level: 3,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>score: this.score</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// SCENE: Level3</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">class Level3 extends Phaser.Scene {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>super({ key: 'Level3' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init(data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.characterKey = data.character || 'blaire';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.level = data.level || 3;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score = data.score || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>create() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameWidth = this.sys.game.config.width;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.gameHeight = this.sys.game.config.height;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Player</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player = this.physics.add.sprite(100, 450, this.characterKey);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setCollideWorldBounds(true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setScale(0.5);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Ground</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.ground = this.add.rectangle(</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth / 2,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameHeight - 20,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.gameWidth,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>40,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>0x654321</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(this.ground, true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.player, this.ground);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Obstacles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.obstacles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.obstacles, this.hitObstacle, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collectibles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles = this.physics.add.group();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.collider(this.collectibles, this.ground);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.overlap(this.player, this.collectibles, this.collectItem, null, this);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Score text</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText = this.add.text(16, 16, 'Score: ' + this.score, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Timer</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration = 120;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText = this.add.text(650, 16, 'Time: ' + this.levelDuration, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.updateTimer,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Input</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.on('pointerdown', () =&gt; this.jump());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.spaceKey.on('down', () =&gt; this.jump());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Even more frequent obstacles</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 1000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addObstacle,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Collectibles (ğŸ¤Ÿ)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.time.addEvent({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>delay: 2000,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callback: this.addCollectible,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>callbackScope: this,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loop: true</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Debug</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(20, 60, "Level3 loaded!", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '16px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#fff'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>update() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Even faster run</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.player.setVelocityX(300);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>jump() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.player.body.touching.down) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.player.setVelocityY(-450);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addObstacle() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacleEmoji = Math.random() &lt; 0.5 ? "ğŸ¥…" : "ğŸ¥";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const obstacle = this.add.text(this.gameWidth, 520, obstacleEmoji, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '64px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setVelocityX(-350);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>obstacle.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.obstacles.add(obstacle);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addCollectible() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const collectible = this.add.text(this.gameWidth, 480, 'ğŸ¤Ÿ', {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '48px'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.physics.add.existing(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setVelocityX(-250);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.body.setAllowGravity(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.collectibles.add(collectible);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>hitObstacle(player, obstacle) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (player.y &lt; obstacle.y) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.score += 10;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>obstacle.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('GameOverScene', { score: this.score });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>collectItem(player, collectible) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.score += 20;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scoreText.setText('Score: ' + this.score);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>collectible.destroy();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateTimer() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.levelDuration--;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.timerText.setText('Time: ' + this.levelDuration);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (this.levelDuration &lt;= 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Survived all 3 levels =&gt; "victory"</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.scene.start('GameOverScene', { score: this.score, victory: true });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// SCENE: GameOverScene</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">class GameOverScene extends Phaser.Scene {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>super({ key: 'GameOverScene' });</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init(data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.finalScore = data.score || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.victory = data.victory || false;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>create() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const message = this.victory ? "You completed all levels!" : "Game Over!";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(200, 200, message, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '48px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontStyle: 'bold'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(200, 300, `Final Score: ${this.finalScore}`, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '32px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.add.text(150, 400, "Tap or Press SPACE to Restart", {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fontSize: '24px',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>fill: '#000'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.keyboard.on('keydown-SPACE', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.restartGame();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.input.on('pointerdown', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.restartGame();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>restartGame() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Return to TitleScene</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.scene.start('TitleScene');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">// GAME CONFIG &amp; LAUNCH</p>
<p class="p1">// -----------------------------------------------------------------------------</p>
<p class="p1">const config = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>type: Phaser.AUTO,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>width: 800,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>height: 600,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>backgroundColor: "#87CEEB",</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>physics: {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>default: 'arcade',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>arcade: {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gravity: { y: 600 },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>debug: false</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>scene: [TitleScene, Level1, Level2, Level3, GameOverScene]</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">const game = new Phaser.Game(config);</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
